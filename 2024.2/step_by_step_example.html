


<!DOCTYPE HTML>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
	<head>
		<meta charset="utf-8">
		
		<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
		<link rel="stylesheet" href="https://static.cloud.coveo.com/searchui/v2.4382/css/CoveoFullSearch.css"/>
		<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<meta name="description"/>
		<meta name="keywords"/>
		<meta property="og:title" content=""/>
		<meta property="og:description"/>
		<!-- favicon -->
		<link rel="icon" type="image/vnd.microsoft.icon" href="_static/favicon.ico"/>
		<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="_static/favicon.ico"/>
		<!-- Fonts -->
		<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet" type="text/css"/>

	<!-- OneTrust Cookies Consent Notice start for xilinx.github.io -->
<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="37701bd4-e5c0-4ee3-9329-e7475d0b13a7" ></script>
<script type="text/javascript">
function OptanonWrapper() { }
</script>
<!-- OneTrust Cookies Consent Notice end for xilinx.github.io -->
		<!-- Google Tag Manager -->
	<script type="text/plain" class="optanon-category-C0002">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-5RHQV7');</script>
	<!-- End Google Tag Manager -->
	
        <!-- Google Tag Manager -->
        <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5RHQV7" height="0" width="0" style="display:none;visibility:hidden" class="optanon-category-C0002"></iframe></noscript>
        <!-- End Google Tag Manager -->	

  
  
  
  

  
      <script type="text/javascript" src="_static/js/jquery.min.js"></script>
	  <script type="text/javascript" src="_static/js/gtm.js"></script>
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
    <script type="text/javascript" src="_static/js/d3dd8c60ed.js"></script>
    <script type="text/javascript" src="_static/js/common-ui-all.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-ui.min.js"></script>
    <script type="text/javascript" src="_static/js/CoveoJsSearch.Lazy.min.js"></script>
    <script type="text/javascript" src="_static/js/linkid.js"></script>
    <script type="text/javascript" src="_static/js/Searchbox.min.js"></script>
    <script type="text/javascript" src="_static/js/header-footer.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/common-ui-all.min.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/header-footer.min.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/pro.min.css" media="all" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="License" href="license.html" />
    <link rel="prev" title="Using the Test Harness" href="using_the_harness.html" /> 
	</head>
	<body>
		<div class="xilinx-bs3"/>
		<div class="root responsivegrid">
			<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 aem-Grid--large--16 aem-Grid--xlarge--16 aem-Grid--xxlarge--16 aem-Grid--xxxlarge--16 ">
 <div class="xilinxExperienceFragments experiencefragment aem-GridColumn aem-GridColumn--default--12">

    
    

    



<div class="xf-content-height">
    

<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
    
    <div class="header parbase aem-GridColumn aem-GridColumn--default--12"><noindex>
	<header data-component="header" class="site-header">
		<nav class="navbar navbar-default">
			<div class="container-fluid main-nav">
				<div class="row">
					<div class="navbar-column col-xs-4 col-sm-5">
						<ul class="nav navbar-nav hidden-xs">
							<li>
									<button onclick="window.location.href=&#39;https://www.xilinx.com/applications.html&#39;;">Solutions</button>
								</li>
							<li>
									<button onclick="window.location.href=&#39;https://www.xilinx.com/products/silicon-devices.html&#39;;">Products</button>
								</li>
							<li>
									<button onclick="window.location.href=&#39;https://www.xilinx.com/about/company-overview.html&#39;;">Company</button>
								</li>
							</ul>
							
						<ul class="nav navbar-nav hidden-sm hidden-md hidden-lg">
							<li>
									<button data-target="#header-container-0" data-function="toggle">Solutions</button>
								</li>
							<li>
									<button data-target="#header-container-1" data-function="toggle">Products</button>
								</li>
							<li>
									<button data-target="#header-container-2" data-function="toggle">Company</button>
								</li>
							</ul>
							
						<div id="header-container-0" class="menu-container">
								<div class="navbar-nav-container">
									<ul class="nav navbar-nav">
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/applications.html&#39;;">Solutions</button>
												</li>
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/products/silicon-devices.html&#39;;">Products</button>
												</li>
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/about/company-overview.html&#39;;">Company</button>
												</li>
										</ul>
									<button data-function="close-menu">
										<span class="fal fa-times" aria-hidden="true"></span>
									</button>
								</div>
							</div>
							<div id="header-container-1" class="menu-container">
								<div class="navbar-nav-container">
									<ul class="nav navbar-nav">
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/applications.html&#39;;">Solutions</button>
												</li>
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/products/silicon-devices.html&#39;;">Products</button>
												</li>
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/about/company-overview.html&#39;;">Company</button>
												</li>
										</ul>
									<button data-function="close-menu">
										<span class="fal fa-times" aria-hidden="true"></span>
									</button>
								</div>
							</div>
							<div id="header-container-2" class="menu-container">
								<div class="navbar-nav-container">
									<ul class="nav navbar-nav">
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/applications.html&#39;;">Solutions</button>
												</li>
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/products/silicon-devices.html&#39;;">Products</button>
												</li>
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/about/company-overview.html&#39;;">Company</button>
												</li>
										</ul>
									<button data-function="close-menu">
										<span class="fal fa-times" aria-hidden="true"></span>
									</button>
								</div>
							</div>
							</div>
					<div class="logo-column col-xs-4 col-sm-2">
						<div class="logo">
							<a target="_blank" href="https://www.xilinx.com/">
								<img src="https://github.com/Xilinx/Image-Collateral/blob/main/xilinx-header-logo.svg?raw=true" title="Xilinx Inc"/>
							</a>
						</div>
					</div>

				</div>
			</div>
			</nav></header></noindex></div>
		
	
</div>

    
</div>
</div>

<div class="calloutBanner parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16"><div class="callout-banner">
    Xilinx is now a part of <a target="_blank" href="https://www.amd.com/en/corporate/xilinx-acquisition">AMD</a> |  <a target="_blank" href="https://www.amd.com/en/corporate/privacy">Learn More</a>
</div>
</div>
				<div class="parsys aem-GridColumn--xxxlarge--none aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
						<div class="container-fluid">
							<div class="row">
							<div class="col-xs-12">
   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> AIE Test Harness
          

          
          </a>

          
            
            
              <div class="version">
                2024.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

      
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
            
            
            
              
            
            
              <p class="caption"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="release_notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
</ul>
<p class="caption"><span class="caption-text">User Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="hw_features.html">Hardware Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="sw_apis.html">Software APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_the_harness.html">Using the Test Harness</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Step by Step Example</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#launching-the-server-session">Launching the Server Session</a></li>
<li class="toctree-l2"><a class="reference internal" href="#running-an-example-in-client-server">Running an Example in Client Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="#example-output">Example Output</a></li>
<li class="toctree-l2"><a class="reference internal" href="#understanding-the-example">Understanding the Example</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#test-harness-plios">Test Harness PLIOs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sw-application">SW Application</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Additional Topics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="trademark.html">Trademark Notice</a></li>
</ul>

            
			
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">AIE Test Harness</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Step by Step Example</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="toctree-wrapper compound">
</div>
<div class="section" id="step-by-step-example">
<h1>Step by Step Example<a class="headerlink" href="#step-by-step-example" title="Permalink to this headline">¶</a></h1>
<p>This step by step example takes a reference design <code class="docutils literal notranslate"><span class="pre">examples/vck190/adder_perf</span></code> and shows the commands to build and launch. And the example output is also shown.
The code specific to test harness features is explained. The commands and code can be easily extended to other examples and user own designs.</p>
<div class="section" id="launching-the-server-session">
<h2>Launching the Server Session<a class="headerlink" href="#launching-the-server-session" title="Permalink to this headline">¶</a></h2>
<p>Burn and boot with the <code class="docutils literal notranslate"><span class="pre">bin/sd_card.img</span></code>. In the board, get the IP address and launch the server by:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;log in Linux with username / passwd: petalinux / petalinux&gt;
sudo su
cd /run/media/mmcblk0p1
    ifconfig
./run_server.sh
</pre></div>
</div>
<p>Note that the IP address of the board will be used by client server.</p>
</div>
<div class="section" id="running-an-example-in-client-server">
<h2>Running an Example in Client Server<a class="headerlink" href="#running-an-example-in-client-server" title="Permalink to this headline">¶</a></h2>
<p>Note: Setup the environment first before launching the commands. It can be referred to <a class="reference internal" href="using_the_harness.html#using-the-harness"><span class="std std-ref">Using the Test Harness</span></a>
The examples have Makefile ready for building and launching:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cd examples/vck190/adder_perf
make all
make run
</pre></div>
</div>
</div>
<div class="section" id="example-output">
<h2>Example Output<a class="headerlink" href="#example-output" title="Permalink to this headline">¶</a></h2>
<p>Here’s the example output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Using XCLBIN file: vck190_test_harness.xclbin
Running example ADDER
 - Number of graph iterations         :     1000
 - Number of values                   :  1024000 (4000KB)
 - Number of repetitions              :        1
 - Number of graph iterations (total) :     1000
 - Channel delay                      :        0 cycles
[2025-**-** 15:16:21] [INFO] Initializing the test harness manager.
[2025-**-** 15:16:21] [INFO] Connecting to the test harness manager server at 172.16.75.168:8080
Testing mode: PERF_MODE
[2025-**-** 15:16:30] [INFO] Running the AIE graph.
[2025-**-** 15:16:31] [INFO] Running the test harness.
[2025-**-** 15:16:31] [INFO] Waiting for the result.
[2025-**-** 15:16:36] [INFO] PLIO_1_TO_AIE send the first data at cycle[0], ends at cycle[303949], and the throughputs is 4016.14 MBps.

[2025-**-** 15:16:36] [INFO] PLIO_1_FROM_AIE received the first data at cycle[631], ends at cycle[304630], and the throughputs is 4015.48 MBps.

[INFO]: Result checking is not valid if test size is beyond the capacity of URAM in each channel.
TEST PASSED
[2025-**-** 15:16:36] [INFO] Destroying the test harness manager.
INFO: TEST PASSED, RC=0
</pre></div>
</div>
<p>Here, the throughput of every port is reported.</p>
</div>
<div class="section" id="understanding-the-example">
<h2>Understanding the Example<a class="headerlink" href="#understanding-the-example" title="Permalink to this headline">¶</a></h2>
<p>This section describes the source code specific to AIE test harness requirements.</p>
<p>For additional details on the steps described below, refer to the documentation about <a class="reference internal" href="using_the_harness.html#using-the-harness"><span class="std std-ref">Using the Test Harness</span></a> and about the <a class="reference internal" href="sw_apis.html#sw-apis"><span class="std std-ref">Software APIs</span></a>.</p>
<div class="section" id="test-harness-plios">
<h3>Test Harness PLIOs<a class="headerlink" href="#test-harness-plios" title="Permalink to this headline">¶</a></h3>
<p>This example uses 2 input PLIO and 1 output PLIO. The width of each PLIO is set 128 bits, as required by the test harness. We chose PLIO <code class="docutils literal notranslate"><span class="pre">PLIO_01_TO_AIE</span></code> and <code class="docutils literal notranslate"><span class="pre">PLIO_03_TO_AIE</span></code> to send data to the AI-Engine and PLIO <code class="docutils literal notranslate"><span class="pre">PLIO_02_FROM_AIE</span></code> to receive data from the AI-Engine. As explained in the section about <a class="reference internal" href="hw_features.html#plio-placement"><span class="std std-ref">Placement of PLIOs</span></a>, the PLIO names indicate the generic name and direction of each PLIO. All valid PLIO names can be found in <a class="reference external" href="https://github.com/Xilinx/AI-Engine-Test-Harness/tree/main/include/test_harness_port_name.hpp">include/test_harness_port_name.hpp</a>.</p>
<pre class="highlight literal-block">
<span></span><span class="n">test_graph</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">pl_in0</span> <span class="o">=</span> <span class="n">input_plio</span><span class="o">::</span><span class="n">create</span><span class="p">(</span><span class="s">&quot;PLIO_01_TO_AIE&quot;</span><span class="p">,</span> <span class="n">adf</span><span class="o">::</span><span class="n">plio_128_bits</span><span class="p">,</span> <span class="s">&quot;data/DataIn0.txt&quot;</span><span class="p">);</span>
    <span class="n">pl_in1</span> <span class="o">=</span> <span class="n">input_plio</span><span class="o">::</span><span class="n">create</span><span class="p">(</span><span class="s">&quot;PLIO_03_TO_AIE&quot;</span><span class="p">,</span> <span class="n">adf</span><span class="o">::</span><span class="n">plio_128_bits</span><span class="p">,</span> <span class="s">&quot;data/DataIn1.txt&quot;</span><span class="p">);</span>
    <span class="n">pl_out</span> <span class="o">=</span> <span class="n">output_plio</span><span class="o">::</span><span class="n">create</span><span class="p">(</span><span class="s">&quot;PLIO_02_FROM_AIE&quot;</span><span class="p">,</span> <span class="n">adf</span><span class="o">::</span><span class="n">plio_128_bits</span><span class="p">,</span> <span class="s">&quot;data/DataOut0.txt&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre>
</div>
<div class="section" id="sw-application">
<span id="ps-app"></span><h3>SW Application<a class="headerlink" href="#sw-application" title="Permalink to this headline">¶</a></h3>
<p>A SW application running on the client server is necessary to run the test with AIE test harness. The source code for this application is provided in the <a class="reference external" href="https://github.com/Xilinx/AI-Engine-Test-Harness/tree/main/examples/vck190/adder_perf/ps/host.cpp">examples/vck190/adder_perf/ps/host.cpp</a> file. The application must be developed using the <a class="reference internal" href="sw_apis.html#sw-apis"><span class="std std-ref">test harness software APIs</span></a>.</p>
<pre class="highlight literal-block">
<span></span><span class="n">test_harness_mgr_client</span> <span class="nf">mgr</span><span class="p">(</span><span class="n">xclbin_path</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;gr&quot;</span><span class="p">},</span> <span class="s">&quot;vck190&quot;</span><span class="p">);</span>
<span class="c1">// configuration: channel index, size_in_bytes, repetition, delay, pointer to data</span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">test_harness_args</span><span class="o">&gt;</span> <span class="n">args</span><span class="p">;</span>
<span class="n">args</span><span class="p">.</span><span class="n">push_back</span><span class="p">({</span><span class="n">channel_index</span><span class="p">(</span><span class="n">PLIO_01_TO_AIE</span><span class="p">),</span> <span class="n">num_values</span> <span class="o">*</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">),</span> <span class="n">num_repetitions</span><span class="p">,</span> <span class="n">num_delay</span><span class="p">,</span> <span class="p">(</span><span class="kt">char</span><span class="o">*</span><span class="p">)</span><span class="n">a</span><span class="p">.</span><span class="n">data</span><span class="p">()});</span>
<span class="n">args</span><span class="p">.</span><span class="n">push_back</span><span class="p">({</span><span class="n">channel_index</span><span class="p">(</span><span class="n">PLIO_03_TO_AIE</span><span class="p">),</span> <span class="n">num_values</span> <span class="o">*</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">),</span> <span class="n">num_repetitions</span><span class="p">,</span> <span class="n">num_delay</span><span class="p">,</span> <span class="p">(</span><span class="kt">char</span><span class="o">*</span><span class="p">)</span><span class="n">b</span><span class="p">.</span><span class="n">data</span><span class="p">()});</span>
<span class="n">args</span><span class="p">.</span><span class="n">push_back</span><span class="p">({</span><span class="n">channel_index</span><span class="p">(</span><span class="n">PLIO_02_FROM_AIE</span><span class="p">),</span> <span class="n">num_values</span> <span class="o">*</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">),</span> <span class="n">num_repetitions</span><span class="p">,</span> <span class="n">num_delay</span><span class="p">,</span> <span class="p">(</span><span class="kt">char</span><span class="o">*</span><span class="p">)</span><span class="n">s</span><span class="p">.</span><span class="n">data</span><span class="p">()});</span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">test_harness</span><span class="o">::</span><span class="n">TestMode</span><span class="o">&gt;</span> <span class="n">modes</span> <span class="o">=</span> <span class="p">{</span><span class="n">FUNC_MODE</span><span class="p">,</span> <span class="n">PERF_MODE</span><span class="p">};</span>
<span class="k">for</span><span class="p">(</span><span class="k">auto</span> <span class="nl">mode</span> <span class="p">:</span> <span class="n">modes</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">mgr</span><span class="p">.</span><span class="n">runAIEGraph</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">num_iterations</span> <span class="o">*</span> <span class="n">num_repetitions</span><span class="p">);</span> <span class="c1">//0=graph index in the xclbin,</span>
    <span class="c1">// Start the DMA engine</span>
    <span class="n">mgr</span><span class="p">.</span><span class="n">runTestHarness</span><span class="p">(</span><span class="n">mode</span><span class="p">,</span> <span class="n">args</span><span class="p">);</span>
   <span class="c1">// Wait for all DMA transactions and for the AIE graph to finish.</span>
   <span class="c1">// The argument is an optional timeout (in millisecond) for the AIE graph.</span>
    <span class="n">mgr</span><span class="p">.</span><span class="n">waitForRes</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span> <span class="c1">//0=Wait for completion</span>
    <span class="n">mgr</span><span class="p">.</span><span class="n">printPerf</span><span class="p">();</span>
    <span class="k">auto</span> <span class="n">is_valid</span> <span class="o">=</span> <span class="n">mgr</span><span class="p">.</span><span class="n">isResultValid</span><span class="p">();</span>
    <span class="p">......</span>
<span class="p">}</span>
</pre>
<p>The application needs one instance of the <a class="reference internal" href="sw_apis.html#_CPPv323test_harness_mgr_client" title="test_harness_mgr_client"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">test_harness_mgr_client</span></code></a> class. The name of the PL kernel that is pre-compiled in the XSA. The <code class="docutils literal notranslate"><span class="pre">xclbin_path</span></code> specifies the XCLBIN file. The argument <code class="docutils literal notranslate"><span class="pre">{&quot;gr&quot;}</span></code> is a vector of string with the name of the graph instantiated in the <code class="docutils literal notranslate"><span class="pre">graph.cpp</span></code> file.  The argument <code class="docutils literal notranslate"><span class="pre">&quot;vck190&quot;</span></code> specifies the board to be used.</p>
<p>Then, a vector of <a class="reference internal" href="sw_apis.html#_CPPv317test_harness_args" title="test_harness_args"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">test_harness_args</span></code></a> is created to configure the DMA channels associated with each PLIO used by the AIE graph.
As seen in step #1, the inputs of the graph are mapped to PLIO <code class="docutils literal notranslate"><span class="pre">PLIO_01_TO_AIE</span></code> and <code class="docutils literal notranslate"><span class="pre">PLIO_03_TO_AIE</span></code>, and the output is mapped to <code class="docutils literal notranslate"><span class="pre">PLIO_02_FROM_AIE</span></code>. We know how many bytes or samples that each iteration of graph <code class="docutils literal notranslate"><span class="pre">gr</span></code> consumes or produces. The <a class="reference internal" href="sw_apis.html#_CPPv313channel_index" title="channel_index"><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">channel_index</span></code></a> member of the <a class="reference internal" href="sw_apis.html#_CPPv317test_harness_args" title="test_harness_args"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">test_harness_args</span></code></a> descriptors must be set accordingly in the SW application.</p>
<p>The replay count of the <a class="reference internal" href="sw_apis.html#_CPPv317test_harness_args" title="test_harness_args"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">test_harness_args</span></code></a> are set to <code class="docutils literal notranslate"><span class="pre">num_repetitions</span></code>. This programs the test harness to issue the input data <code class="docutils literal notranslate"><span class="pre">num_repetitions</span></code> times and to expect <code class="docutils literal notranslate"><span class="pre">num_repetitions</span></code> times the output data. Note that only one repetition count is supported in functional mode.</p>
<p>After the test is configured, the graph is started with the <a class="reference internal" href="sw_apis.html#_CPPv3N23test_harness_mgr_client11runAIEGraphEjj" title="test_harness_mgr_client::runAIEGraph"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">test_harness_mgr_client::runAIEGraph()</span></code></a> API.</p>
<p>The test harness is started with the <a class="reference internal" href="sw_apis.html#_CPPv3N23test_harness_mgr_client14runTestHarnessE8TestModeRKNSt6vectorI17test_harness_argsEE8uint32_t" title="test_harness_mgr_client::runTestHarness"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">test_harness_mgr_client::runTestHarness()</span></code></a> API. Starting the harness <strong>AFTER</strong> the graph is necessary to ensure accurate measurement of DMA channel latencies.</p>
<p>Then, use <a class="reference internal" href="sw_apis.html#_CPPv3N23test_harness_mgr_client10waitForResE8uint32_t8uint32_t" title="test_harness_mgr_client::waitForRes"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">test_harness_mgr_client::waitForRes()</span></code></a> API to wait for the finish of the data transfer, and get the validity of the result by getting the boolean value of the <code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">test_harness_mgr_client::result_valid()</span></code>.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
<!-- Atalwar: Moved the footer code to layout.html to resolve conflict with the Xilinx template -->
</footer>

        </div>
      </div>


	  <!-- Sphinx Page Footer block -->
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="license.html" class="btn btn-neutral float-right" title="License" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="using_the_harness.html" class="btn btn-neutral float-left" title="Using the Test Harness" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo" class="copyright">
    <p class="footerinfo">
      <span class="lastupdated">
        Last updated on April 08, 2025.
      </span>

    </p>
	<br>
  </div>
      </div>
    </section>


  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

   <script type="text/javascript">
    jQuery(function() { Search.loadIndex("searchindex.js"); });
  </script>

  <script type="text/javascript" id="searchindexloader"></script>


  
  
    
  



  <!--  Xilinx template footer block -->
							</div>
						</div>
					</div>
				</div>
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="footer parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
								<noindex>
                  <!-- make footer fixed - NileshP -->
                  <style>
                        .footer {
                        position: fixed;
                        left: 0;
                        bottom: 0;
                        width: 100%;
                        }
                  </style>
                  <!-- make footer fixed NileshP-->
									<footer>
										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">
													<div class="row">
														<div class="footerSocial parbase">
														
															<div class="col-md-push-6 col-lg-push-6 col-md-6 col-lg-6">
																<div class="lang-select dropup hidden-md hidden-lg">
		<button data-toggle="dropdown">
			<span class="fas fa-globe" aria-hidden="true"></span>
			<span>
				
					English
				</span>
		<span class="far fa-angle-down" aria-hidden="true"></span>
	</button>
	<ul class="dropdown-menu">
		<li>
				<a target="_blank" href="https://japan.xilinx.com/" target="_self">
					日本語
				</a>
			</li>
		<li>
				<a target="_blank" href="https://china.xilinx.com/" target="_self">
					简体中文
				</a>
			</li>
		</ul>
	</div>
																<ul class="list-inline pull-right social-menu">
																	<li>
																		<a target="_blank" href="https://www.linkedin.com/company/xilinx">
																		<span class="linkedin icon"></span>
																		<span class="sr-only">Connect on LinkedIn</span>
																		</a>
																	</li>
																	<li>
																		<a target="_blank" href="https://www.twitter.com/XilinxInc">
																		<span class="twitter icon"></span>
																		<span class="sr-only">Follow us on Twitter</span>
																		</a>
																	</li>
																	<li>
																		<a target="_blank" href="https://www.facebook.com/XilinxInc">
																		<span class="facebook icon"></span>
																		<span class="sr-only">Connect on Facebook</span>
																		</a>
																	</li>
																	<li>
																		<a target="_blank" href="https://www.youtube.com/XilinxInc">
																		<span class="youtube icon"></span>
																		<span class="sr-only">Watch us on YouTube</span>
																		</a>
																	</li>
																	<li>
																		<a target="_blank" href="https://www.xilinx.com/registration/subscriber-signup.html">
																		<span class="newsletter icon"></span>
																		<span class="sr-only">Subscribe to Newsletter</span>
																		</a>
																	</li>
																</ul>
																	<div class="lang-select dropup hidden-xs hidden-sm">
	<button data-toggle="dropdown">
		<span class="fas fa-globe" aria-hidden="true"></span>
		<span>
			
				English
			</span>
		<span class="far fa-angle-down" aria-hidden="true"></span>
	</button>
	<ul class="dropdown-menu">
		<li>
				<a target="_blank" href="https://japan.xilinx.com/" target="_self">
					日本語
				</a>
			</li>
		<li>
				<a target="_blank" href="https://china.xilinx.com/" target="_self">
					简体中文
				</a>
			</li>
		</ul>
	</div>
															</div>
														</div>
														<div class="col-md-pull-5 col-lg-pull-5 col-md-5 col-lg-5">
															<span class="copyright">©2022 Advanced Micro Devices, Inc</span>
														</div>

													</div>
													                    <div class="movethisrowtoleft row">
                        <div class="col-xs-24">
                            <ul class="sub-menu">
                                <li><a target="_blank" href="https://www.amd.com/en/corporate/copyright">Terms and Conditions</a></li>
                                <li><a target="_blank" href="https://www.amd.com/en/corporate/privacy">Privacy</a></li>
                                <li><a target="_blank" href="https://www.amd.com/en/corporate/cookies">Cookie Policy</a></li>
                                <li><a target="_blank" href="https://www.amd.com/en/corporate/trademarks">Trademarks</a></li>
                                <li><a target="_blank" href="https://www.amd.com/system/files/documents/statement-human-trafficking-forced-labor.pdf">Statement on Forced Labor</a></li>
                                <li><a target="_blank" href="https://www.amd.com/en/corporate/competition">Fair and Open Competition</a></li>
                                <li><a target="_blank" href="https://www.amd.com/system/files/documents/amd-uk-tax-strategy.pdf">UK Tax Strategy</a></li>
								<li><a target="_blank" href="https://docs.xilinx.com/v/u/9x6YvZKuWyhJId7y7RQQKA">Inclusive Terminology</a></li>
                                <li><a href="#cookiessettings" class="ot-sdk-show-settings">Cookies Settings</a></li>
                            </ul>
                        </div>
                    </div>
												</div>
											</div>
										</div>
									</footer>
								</noindex>
							</div>
						</div>
					</div>
				</div>
<div class="backToTop parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16"><noindex>
    <span data-component="backToTopButton" class="backToTopButton loaded">
        <ul>
            <li>
                <a href="https://www.author.xilinx.com/xx/rebrand/amd/en-amd-xilinx-header-footer.html#top" class="btn top">
                    <span class="fas fa-angle-up" aria-hidden="true"></span>
                </a>
            </li>
        </ul>
    </span>
</noindex></div>
			</div>
		</div>


		<script>window.CQ = window.CQ || {}</script>
		<script src="https://static.cloud.coveo.com/searchui/v2.4382/js/CoveoJsSearch.Lazy.min.js"></script>
		<script>
			var underscoreSetup = function () {
			  _.templateSettings.interpolate = /\{\{=([^-][\S\s]+?)\}\}/g;
			  _.templateSettings.evaluate = /\{\{([^-=][\S\s]+?)\}\}/g;
			  _.templateSettings.escape = /\{\{-([^=][\S\s]+?)\}\}/g;
			}

			underscoreSetup();
		</script>
	</body>
</html>